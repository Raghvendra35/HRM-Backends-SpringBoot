"use strict";(self.webpackChunkangular_frontend=self.webpackChunkangular_frontend||[]).push([[144],{6429:(A,y,d)=>{d.r(y),d.d(y,{LeaveReportEmployeeModule:()=>g});var h=d(6895),u=d(2019),L=d(7652),e=d(8256),Z=d(8463),b=d(4416),s=d(433);function E(v,o){if(1&v&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&v){const a=o.$implicit;e.Q6J("value",a.employeeId),e.xp6(1),e.AsE(" ",a.firstName," (",a.emailId,") ")}}const _=function(v){return{display:v}};class c{constructor(o,a,i){this.leaveService=o,this.employeeService=a,this.router=i,this.leaveEmployee=new L.k,this.leaveManage=new L.x,this.displayStyle="none"}ngOnInit(){this.employeeService.getDropdown().subscribe(a=>{console.log("Only drop dwon +++++++++++"),console.log(a),this.employeeData=a,console.log("employeeData +++++++++"),console.log(this.employeeData)})}selectFile(o){console.log(o),console.log(o.target),this.selectedFile=o.target.files[0]}formSubmit(){console.log(this.leaveEmployee),this.typesOfLeave=this.leaveEmployee.typesOfLeave,console.log("Days=======================");var o=new Date(this.leaveEmployee.fromDate),i=(new Date(this.leaveEmployee.toDate).getTime()-o.getTime())/864e5;console.log("days ++++++++++++++++"+i),this.leaveService.getleftLeaveByEmployeeId(this.leaveEmployee.employeeId).subscribe(n=>{if(console.log("Left Leave ++++++++"),console.log(n),this.leftLeave=n,this.casualLeavevar=this.leftLeave.casualLeave,this.sickLeavevar=this.leftLeave.sickLeave,this.marriageLeavevar=this.leftLeave.marriageLeave,this.maternityLeavevar=this.leftLeave.maternityLeave,this.paternityLeavevar=this.leftLeave.paternityLeave,this.bareavementLeavevar=this.leftLeave.bareavementLeave,this.earnedLeavevar=this.leftLeave.earnedLeave,console.log("Types of Leave ========================="),console.log(this.typesOfLeave),"CasualLeave"==this.typesOfLeave||"SickLeave"==this.typesOfLeave||"MarriageLeave"==this.typesOfLeave||"MaternityLeave"==this.typesOfLeave||"PaternityLeave"==this.typesOfLeave||"BareavementLeave"==this.typesOfLeave||"EarnedLeave"==this.typesOfLeave)if("CasualLeave"==this.typesOfLeave){var t=this.casualLeavevar-i;console.log("Saved Leave ++++++++++++++"),console.log(t),0==t||t>0?this.leaveService.updateCasualLeave(t,this.leaveEmployee.employeeId,this.leaveManage).subscribe(f=>{if(this.res=f,console.log(f),this.res>0){alert("You have a casual leave");const r=new FormData;r.append("leaveEmployee",JSON.stringify(this.leaveEmployee)),r.append("file",this.selectedFile),this.leaveService.saveLeaveAndImage(r).subscribe(l=>{alert("Saved Leave !!!"),this.router.navigate(["leavelist"])},l=>{alert("Failed !!!")})}else alert("You have no casual leave")}):(alert("You have no casual leave"),this.router.navigate(["leavelist"]))}else"SickLeave"==this.typesOfLeave?(t=this.sickLeavevar-i,console.log("Inside Sick Leave"),console.log(t),console.log(this.typesOfLeave),0==t||t>0?this.leaveService.updateSickLeave(t,this.leaveEmployee.employeeId,this.leaveManage).subscribe(r=>{if(this.res=r,this.res>0){const l=new FormData;l.append("leaveEmployee",JSON.stringify(this.leaveEmployee)),l.append("file",this.selectedFile),this.leaveService.saveLeaveAndImage(l).subscribe(p=>{alert("Saved Leave !!!"),this.router.navigate(["leavelist"])},p=>{alert("Failed !!!")})}else alert("You have no Sick leave !!!")}):(alert("You have no Sick leave !!!"),this.router.navigate(["leavelist"]))):"MarriageLeave"==this.typesOfLeave?0==(t=this.marriageLeavevar-i)||t>0?this.leaveService.updateMarriageLeave(t,this.leaveEmployee.employeeId,this.leaveManage).subscribe(r=>{if(this.res=r,this.res>0){const l=new FormData;l.append("leaveEmployee",JSON.stringify(this.leaveEmployee)),l.append("file",this.selectedFile),this.leaveService.saveLeaveAndImage(l).subscribe(p=>{alert("Saved Leave !!!"),this.router.navigate(["leavelist"])},p=>{alert("Failed !!!")})}else alert("You have no Marriage leave !!!")}):(alert("You have no Marriage leave !!!"),this.router.navigate(["leavelist"])):"MaternityLeave"==this.typesOfLeave?0==(t=this.maternityLeavevar-i)||t>0?this.leaveService.updateMaternityLeave(t,this.leaveEmployee.employeeId,this.leaveManage).subscribe(r=>{if(this.res=r,this.res>0){const l=new FormData;l.append("leaveEmployee",JSON.stringify(this.leaveEmployee)),l.append("file",this.selectedFile),this.leaveService.saveLeaveAndImage(l).subscribe(p=>{alert("Saved Leave !!!"),this.router.navigate(["leavelist"])},p=>{alert("Failed !!!")})}else alert("You have no Maternity leave !!!")}):alert("You have no Maternity leave !!!"):"PaternityLeave"==this.typesOfLeave?0==(t=this.paternityLeavevar-i)||t>0?this.leaveService.updatePaternityLeave(t,this.leaveEmployee.employeeId,this.leaveManage).subscribe(r=>{if(this.res=r,this.res>0){const l=new FormData;l.append("leaveEmployee",JSON.stringify(this.leaveEmployee)),l.append("file",this.selectedFile),this.leaveService.saveLeaveAndImage(l).subscribe(p=>{alert("Saved Leave !!!"),this.router.navigate(["leavelist"])},p=>{alert("Failed !!!")})}else alert("You have no Paternity leave !!!")}):alert("You have no Paternity leave !!!"):"BareavementLeave"==this.typesOfLeave?0==(t=this.bareavementLeavevar-i)||t>0?this.leaveService.updateBareavementLeave(t,this.leaveEmployee.employeeId,this.leaveManage).subscribe(r=>{if(this.res=r,this.res>0){const l=new FormData;l.append("leaveEmployee",JSON.stringify(this.leaveEmployee)),l.append("file",this.selectedFile),this.leaveService.saveLeaveAndImage(l).subscribe(p=>{alert("Saved Leave !!!"),this.router.navigate(["leavelist"])},p=>{alert("Failed !!!")})}else alert("You have no Bareavement leave !!!")}):alert("You have no Bareavement leave !!!"):"EarnedLeave"==this.typesOfLeave&&(0==(t=this.earnedLeavevar-i)||t>0?this.leaveService.updateEarnLeave(t,this.leaveEmployee.employeeId,this.leaveManage).subscribe(r=>{if(this.res=r,this.res>0){const l=new FormData;l.append("leaveEmployee",JSON.stringify(this.leaveEmployee)),l.append("file",this.selectedFile),this.leaveService.saveLeaveAndImage(l).subscribe(p=>{alert("Saved Leave !!!"),this.router.navigate(["leavelist"])},p=>{alert("Failed !!!")})}else alert("You have no Earned leave !!!")}):alert("You have no Earned leave !!!"))})}openPopup(){this.displayStyle="block",this.leaveService.getSingleEmployeeLeave(2).subscribe(o=>{console.log(o),this.leaveRecords=o})}closePopup(){this.displayStyle="none"}}c.\u0275fac=function(o){return new(o||c)(e.Y36(Z.e),e.Y36(b.G),e.Y36(u.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-leave-report-employee"]],decls:124,vars:17,consts:[[1,"navbar","navbar-light","bg-success",2,"margin-top","55px"],[1,"container-fluid"],[2,"color","aliceblue"],[1,"d.flex"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","bth-success",2,"color","black","background-color","rgb(220, 209, 231)",3,"click"],[1,"vh-100","gradient-custom",2,"background-color","rgb(155, 154, 156)","margin-top","px"],[1,"container","py-5","h-100"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-12","col-lg-9","col-xl-7"],[1,"card","shadow-2-strong","card-registration",2,"border-radius","15px"],[1,"card-body","p-4","p-md-5"],[1,"mb-4","pb-2","pb-md-0","mb-md-5",2,"padding-left","180px"],["name","myform",1,"form-group"],[1,"row","jumbotron"],[1,"col-md-6","mt-4"],["for","inputname"],["type","date","name","fromDate","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","toDate","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-md-12","mt-3"],["name","reasonToLeave","id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","mt-3"],["name","employeeId","id","validationDefault04","required","",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","mt-5"],["type","file","name","filePath",3,"change"],["name","typesOfLeave","id","validationDefault04","required","",1,"form-select",3,"ngModel","ngModelChange"],["selected","","disabled","","value",""],[1,"col-md-4","mt-5",2,"text-align","center"],["type","Submit",1,"btn","btn-primary",3,"click"],["type","reset",1,"btn","btn-danger"],["tabindex","-1","role","dialog",1,"modal",2,"background-color","rgb(155, 154, 156)",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",2,"padding-left","190px"],[1,"modal-body"],[1,"first",2,"color","rgb(153, 238, 55)"],[2,"padding-left","40px"],[1,"first",2,"color","brown"],[2,"padding-left","40px","color","brown"],[1,"first"],[1,"left"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],[3,"value"]],template:function(o,a){1&o&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"h4",2),e._uU(3,"HR Managements"),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return a.openPopup()}),e._uU(6," Show Leave"),e.qZA()()()(),e.TgZ(7,"section",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"h3",11),e._uU(14,"Leave Report"),e.qZA(),e.TgZ(15,"form",12)(16,"div",13)(17,"div",14)(18,"label",15),e._uU(19,"Starting Date"),e.qZA(),e.TgZ(20,"input",16),e.NdJ("ngModelChange",function(n){return a.leaveEmployee.fromDate=n}),e.qZA()(),e.TgZ(21,"div",14)(22,"label",15),e._uU(23,"Ending Date"),e.qZA(),e.TgZ(24,"input",17),e.NdJ("ngModelChange",function(n){return a.leaveEmployee.toDate=n}),e.qZA()()(),e.TgZ(25,"div",18)(26,"div",19)(27,"label",15),e._uU(28,"Reason for Leave 2"),e.qZA(),e.TgZ(29,"textarea",20),e.NdJ("ngModelChange",function(n){return a.leaveEmployee.reasonToLeave=n}),e.qZA()()(),e.TgZ(30,"div",18)(31,"div",21)(32,"label",15),e._uU(33,"Employee"),e.qZA(),e.TgZ(34,"select",22),e.NdJ("ngModelChange",function(n){return a.leaveEmployee.employeeId=n}),e.TgZ(35,"option"),e._uU(36,"Select One"),e.qZA(),e.YNc(37,E,2,3,"option",23),e.qZA()(),e.TgZ(38,"div",24)(39,"input",25),e.NdJ("change",function(n){return a.selectFile(n)}),e.qZA()()(),e.TgZ(40,"div",18)(41,"div",21)(42,"label",15),e._uU(43,"Types_of_leave"),e.qZA(),e.TgZ(44,"select",26),e.NdJ("ngModelChange",function(n){return a.leaveEmployee.typesOfLeave=n}),e.TgZ(45,"option",27),e._uU(46,"Choose..."),e.qZA(),e.TgZ(47,"option"),e._uU(48,"CasualLeave"),e.qZA(),e.TgZ(49,"option"),e._uU(50,"SickLeave"),e.qZA(),e.TgZ(51,"option"),e._uU(52,"MarriageLeave"),e.qZA(),e.TgZ(53,"option"),e._uU(54,"MaternityLeave"),e.qZA(),e.TgZ(55,"option"),e._uU(56,"PaternityLeave"),e.qZA(),e.TgZ(57,"option"),e._uU(58,"BereavementLeave"),e.qZA(),e.TgZ(59,"option"),e._uU(60,"EarnedLeave"),e.qZA()()()(),e.TgZ(61,"div",18)(62,"div",28)(63,"button",29),e.NdJ("click",function(){return a.formSubmit()}),e._uU(64,"Submit"),e.qZA()(),e.TgZ(65,"div",28)(66,"button",30),e._uU(67,"Cancel"),e.qZA()()()()()()()()()(),e.TgZ(68,"div",31)(69,"div",32)(70,"div",33)(71,"div",34)(72,"h4",35),e._uU(73,"Leave"),e.qZA()(),e.TgZ(74,"div",36)(75,"tr")(76,"th",37),e._uU(77,"Employee_Name"),e.qZA(),e.TgZ(78,"td",38),e._uU(79),e.qZA()(),e.TgZ(80,"table")(81,"tr")(82,"th",39),e._uU(83,"Types_Of_Leave"),e.qZA(),e.TgZ(84,"th",40),e._uU(85,"Left_Leave"),e.qZA()(),e.TgZ(86,"tr")(87,"th",41),e._uU(88,"Casual_Leave"),e.qZA(),e.TgZ(89,"td",42),e._uU(90),e.qZA()(),e.TgZ(91,"tr")(92,"th",41),e._uU(93,"Sick_Leave"),e.qZA(),e.TgZ(94,"td",42),e._uU(95),e.qZA()(),e.TgZ(96,"tr")(97,"th",41),e._uU(98,"Marriage_Leave"),e.qZA(),e.TgZ(99,"td",42),e._uU(100),e.qZA()(),e.TgZ(101,"tr")(102,"th",41),e._uU(103,"Maternity_Leave"),e.qZA(),e.TgZ(104,"td",42),e._uU(105),e.qZA()(),e.TgZ(106,"tr")(107,"th",41),e._uU(108,"Paternity_Leave"),e.qZA(),e.TgZ(109,"td",42),e._uU(110),e.qZA()(),e.TgZ(111,"tr")(112,"th",41),e._uU(113,"Bereavement_Leave"),e.qZA(),e.TgZ(114,"td",42),e._uU(115),e.qZA()(),e.TgZ(116,"tr")(117,"th",41),e._uU(118,"Earned_Leave"),e.qZA(),e.TgZ(119,"td",42),e._uU(120),e.qZA()()()(),e.TgZ(121,"div",43)(122,"button",44),e.NdJ("click",function(){return a.closePopup()}),e._uU(123," Close "),e.qZA()()()()()),2&o&&(e.xp6(20),e.Q6J("ngModel",a.leaveEmployee.fromDate),e.xp6(4),e.Q6J("ngModel",a.leaveEmployee.toDate),e.xp6(5),e.Q6J("ngModel",a.leaveEmployee.reasonToLeave),e.xp6(5),e.Q6J("ngModel",a.leaveEmployee.employeeId),e.xp6(3),e.Q6J("ngForOf",a.employeeData),e.xp6(7),e.Q6J("ngModel",a.leaveEmployee.typesOfLeave),e.xp6(24),e.Q6J("ngStyle",e.VKq(15,_,a.displayStyle)),e.xp6(11),e.Oqu(a.leaveRecords.firstName),e.xp6(11),e.Oqu(a.leaveRecords.casualLeave),e.xp6(5),e.Oqu(a.leaveRecords.sickLeave),e.xp6(5),e.Oqu(a.leaveRecords.marriageLeave),e.xp6(5),e.Oqu(a.leaveRecords.maternityLeave),e.xp6(5),e.Oqu(a.leaveRecords.paternityLeave),e.xp6(5),e.Oqu(a.leaveRecords.bareavementLeave),e.xp6(5),e.Oqu(a.leaveRecords.earnedLeave))},dependencies:[h.sg,h.PC,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.On,s.F],styles:[".left[_ngcontent-%COMP%]{padding-left:65px}"]});const T=[{path:"",component:c}];class m{}m.\u0275fac=function(o){return new(o||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[u.Bz.forChild(T),u.Bz]});var S=d(529);class g{}g.\u0275fac=function(o){return new(o||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[h.ez,m,S.JF,s.u5,u.Bz]})}}]);